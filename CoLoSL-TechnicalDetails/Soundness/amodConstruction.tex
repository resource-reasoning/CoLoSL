\newpage	
\begin{lemma}[]\label{lem:amodWitness}
%
\[
\begin{array}{l}
	\for{\amod{}, \amod{0}, \amod{L} \in \AMods} \for{F_0, F \in \pset{\LState}} \for{s, s_0}\\
	\hspace*{0.2cm} s_0 \in F_0 \;\land\; F_0 \strictfences \amod{0} \;\land\; s \in F \;\land\; F \strictfences \amod{L} 
%	\;\land\;  \dom{\amod{L}} \disjoint \dom{\amod{0}} 
	\implies \\
	\hspace*{0.5cm} \exsts{\amod{}', \fence{}'} s \composeL s_0 \in \fence{}' \;\land\; \fence{}' \strictfences \amod{L} \cup \amod{0} \;\land\; 
	 \extendsAM{\amod{}', \amod{L} \cup \amod{0}}{s_0}{s}{\amod{0}} \;\land\\
	 \hspace*{1.8cm}\for{l, r}\for{\amod{1} \subseteq \amod{L} } l \composeL r = s \;\land\; \extendsAM{\amod{}, \amod{L}}{l}{r}{\amod{1}} \implies\\
	 \hspace*{2cm}  \extendsAM{\amod{}', \amod{L} \cup \amod{0}}{l}{r \composeL s_0}{\amod{1}}

\end{array}
\]
%
\begin{proof}
Pick arbitrary $\amod{}$, $\amod{0}, \amod{L}, \amod{1} \subseteq \amod{L}, F_0, F, L, s_0, s$ such that 
%
\begin{align}
		&s_0 \in F_0 \;\land\; F_0 \strictfences \amod{0} \label{LAW:AssFence}\\
%		& \dom{\amod{L}} \disjoint \dom{\amod{0}} \;\land\; 
		&F \strictfences \amod{L}\label{LAW:dd}\\
		& s \in F \label{LAW:sfence}
\end{align}
%
Let
%
\[
	F' \eqdef
	\left\{
		f_0 \composeL f \;|\;
		f_0 \in F_0 \;\land\;  f \in F
	\right\}
\]
%
and pick  $\amod{}', \amod{0}'$ such that for each $\ca{} \in \Caps$:
%
\[
\amod{1}'(\ca{}) =
\left\{
	\begin{array}{l | l}
		(s_1 \composeL d \composeL f_0, s_2 \composeL d \composeL f_0)
		&
		\begin{array}{l}
			\hspace*{-0.2cm} \exsts{f \in F} \exsts{f_0 \in F_0} \exsts{f' \in F'}\\
			f' = f_0 \composeL  f\\
			(s_1 \composeL c, s_2 \composeL c) \in \amod{L}(\ca{})\\
			\for{s'} s' \leq s_1 \;\land\; s' \leq s_2 \implies s' = \unitL\\
			s_1 \composeL d = f \;\land\; s_1 \composeL c \leq f'\\
			s_2 \composeL d \composeL f_0 \hspace*{0.2cm} \text{is defined}
		\end{array}
	\end{array}
\right\}
\]
%
and
%
\[
\amod{0}'(\ca{}) =
\left\{
	\begin{array}{l | l}
		(s_1 \composeL d \composeL f, s_2 \composeL d \composeL f)
		&
		\begin{array}{l}
			\hspace*{-0.2cm} \exsts{f \in F} \exsts{f_0 \in F_0} \exsts{f' \in F'}\\
			f' = f_0 \composeL  f\\
			(s_1 \composeL c, s_2 \composeL c) \in \amod{0}(\ca{})\\
			\for{s'} s' \leq s_1 \;\land\; s' \leq s_2 \implies s' = \unitL\\
			s_1 \composeL d = f_0 \;\land\; s_1 \composeL c \leq f'\\
			s_2 \composeL d \composeL f \hspace*{0.2cm} \text{is defined}
		\end{array}
	\end{array}
\right\}
\]
%
Let 
%
\begin{align}
	\amod{}' = \amod{0}' \cup \amod{1}' \label{LAW:Ass1}
\end{align}
%(\ref{LAW:Ass})
\noindent\textbf{Show}
\begin{align}
	&F' \strictfences \amod{L} \cup \amod{0} \label{LAW:Goal1}\\
	&s \composeL s_0 \in F' \label{LAW:Goal2}\\
	&\for{n \in \Nats}\for{s \in F} \for{s_0 \in F_0}  s \composeL s_0 \text{ defined} \implies 
	\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{n}{s_0}{s}{\amod{0}} \label{LAW:Goal4}\\
	&\for{n \in \Nats}\for{l \composeL r \in F} \for{s_0 \in F_0} l \composeL r \composeL s_0 \text{ defined} \;\land\; \extendsAM{\amod{}, \amod{L}}{l}{r}{\amod{1}} \nonumber\\
	& \implies   \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{n}{l}{r \composeL s_0}{\amod{0}} \label{LAW:Goal5}
\end{align}
%
\textbf{RTS. (\ref{LAW:Goal4})}\\
\begin{proof}
By induction on the number of steps $m$.\\

\noindent\textbf{Base Case}\\
\textbf{RTS. } $\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{0}{s_0}{s}{\amod{0}}$\\
This holds trivially by definition of $-\downarrow_{0}$.\\

\noindent\textbf{Inductive Case}\\
\textbf{Assume}
\begin{align}
%	\begin{array}{l }
%		\exsts{s} l_1 \composeL  \cdots \composeL l_n = s \\
%	  \land\; \for{\amod{j}, \amod{k} \in \left(\amod{1} \cup \cdots \cup \amod{n}\right)} \dom{\amod{j}} \disjoint \dom{\amod{k}} \\
%	  \land\; \for{j \in 1, \cdots, n} l_j \in F_j  \;\land\; F_i \strictfences \amod{i} \\
%	  \hspace*{3cm} \implies\\
%	  \extendsAMUpto{\amod{}}{m-1}{l_i}{l_1 \composeL \cdots \composeL l_{i-1} \composeL l_{i+1} \composeL \cdots \composeL l_n}{\amod{i}}
%	\end{array}
	\for{s \in F}\for{s_0 \in F_0} s \composeL s_0 \text{ is defined} \implies \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{s_0}{s}{\amod{0}}
	\tag{I.H} \label{LAW:I.H}
\end{align}
\textbf{Show } 
%
\begin{align}
	\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{m}{s_0}{s}{\amod{0}} \nonumber
\end{align}
%
That is:
%
\begin{align}
	&\begin{array}{l}
		\for{\ca{}, c, d, t, s_3, s_4}\for{(s_1 \composeL e, s_2 \composeL e) \in \amod{0}(\ca{})} \\
	\hspace*{0.2cm}\left(\for{l'} l' \leq s_1 \land l' \leq s_2 \implies l' = \unitL\right) \;\land\; s_1 \composeL e \leq  s \composeL s_0 \composeL t \;\land\\
	\hspace*{0.2cm} s_1 = s_3 \composeL s_4 \;\land\; s_1 \maxMeetL s_0 = s_3 \;\land\; s_0 = s_3 \composeL c \;\land\; s = s_4 \composeL d \implies\\
	\hspace*{0.4cm}\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{s_2 \composeL c}{d}{\amod{0}} \;\land\\
	\hspace*{0.4cm} t = \unitL \implies (s_1 \composeL c \composeL d, s_2 \composeL c \composeL d) \in \amod{}'(\ca{}) \;\lor\; s_2 \composeL c \composeL d \text{ is undefined}
	\end{array} \label{LAW:Goal8} \\\nonumber\\
	&\begin{array}{l}
		\for{\ca{}} \for{(l_1 \composeL f, l_2 \composeL f) \in \amod{L} \cup \amod{0}(\ca{})} \for{c, d} \\
  \hspace*{0.2cm} l_1 \composeL f \composeL c = s \composeL s_0 \composeL d \;\land\; \left(\for{l'} l' \leq l_0 \land l' \leq l'_0 \implies l' = \unitL\right)  \;\implies\\
  \hspace*{0.4cm}\exsts{f', c'} (l_1 \composeL f', l_2 \composeL f') \in \amod{0}(\ca{}) \;\land\; l_1 \composeL f' \composeL c' =  s \composeL s_0 \composeL d\\
		\hspace*{0.4cm}\lor\;l_2 \composeL f \composeL c \text{ is undefined}\\
		\hspace*{0.4cm}\lor\; l_1 \maxMeetL s_0 = \unitL \;\land\; \exsts{r'} l_2 \composeL f \composeL c = s_0 \composeL r' \composeL d \;\land\\
		\hspace*{0.6cm} \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{s_0}{r'}{\amod{0}}
%		
%  \hspace*{0.2cm} l_1 \composeL f \meetL l \composeL r \not= \emptyset \;\land\; \left(\for{l'} l' \leq l_0 \land l' \leq l'_0 \implies l' = \unitL\right)  \;\implies\\
%  \hspace*{0.4cm}\exsts{f'} (l_1 \composeL f', l_2 \composeL f') \in \amod{0} \;\land\; l_1 \composeL f' \meetL l \composeL r \not= \emptyset\\
%		\hspace*{0.4cm}\lor\;\for{c, d}  l_1 \composeL f \composeL c = l \composeL r \composeL d \implies\\
%		\hspace*{1cm}
%		\begin{array}{l l}
%			l_2 \composeL f \composeL c \text{ is undefined}\\
%			\lor\; \exsts{r'} l_2 \composeL f \composeL c = l \composeL r' \composeL d \;\land\; \left( d = \unitL \implies \extendsAMUpto{\amod{}, L \cup \{\amod{0}\}}{(m-1)}{l}{r'}{\amod{0}}\right)
%		\end{array}
	\end{array} \label{LAW:Goal9}
\end{align}
%

\noindent\textbf{RTS. (\ref{LAW:Goal8})} \\
Pick an arbitrary $\amod{L}, \ca{}, l_1, l_2, c, d, t, s_3, s_4, s_1, s_2, e$ such that:
%
\begin{align}
	& (s_1 \composeL e, s_2 \composeL e) \in \amod{0}(\ca{}) \label{LAW:Ass5} \\
	& \left(\for{l'} l' \leq s_1 \land l' \leq s_2 \implies l' = \unitL\right) \label{LAW:Ass6}\\
	& s_1 \composeL e \leq  s_0 \composeL s \composeL t\label{LAW:Ass7}\\
	& s_1 = s_3 \composeL s_4 \label{LAW:Ass8}\\
	& s_1 \maxMeetL s_0 = s_3 \label{LAW:Ass9}\\
	& s_0 = s_3 \composeL c \label{LAW:Ass10}\\
	& s= s_4 \composeL d \label{LAW:Ass11}
\end{align}
%(\ref{LAW:Ass})
From (\ref{LAW:AssFence}) we know that $s_1 \leq s_0$ and consequently from (\ref{LAW:Ass8})-(\ref{LAW:Ass11}) and definition of $\maxMeetL$ we have:
%
\begin{align}
\begin{array}{l}
	s_3 = s_1 \\
	s_4 = \unitL\\
	s = d
\end{array} \label{LAW:Ass12}
\end{align}
%(\ref{LAW:Ass})
Assume $t = \unitL$, then from (\ref{LAW:Ass1}), (\ref{LAW:AssFence}), (\ref{LAW:Ass5})-(\ref{LAW:Ass7}), (\ref{LAW:Ass10}) and (\ref{LAW:Ass12}) we have:
%
\begin{align}
	(s_1 \composeL c \composeL d, s_2 \composeL c \composeL d) \in \amod{}'(\ca{}) \;\lor\; s_2 \composeL c \composeL d \hspace*{0.2cm} \text{is undefined} \label{LAW:Ass13}
\end{align}
%
On the other hand, from (\ref{LAW:AssFence}), (\ref{LAW:Ass5}), (\ref{LAW:Ass8}), (\ref{LAW:Ass10}), (\ref{LAW:Ass12}) and definition of $\strictfences$ we have:
%
\begin{align}
	s_2 \composeL c \in F_0 \label{LAW:Ass14}
\end{align}
%(\ref{LAW:Ass})
%
From (\ref{LAW:AssFence}), (\ref{LAW:Ass12})-(\ref{LAW:Ass14}) and (\ref{LAW:I.H}) we have:
%
%
\begin{align}
\begin{array}{l}
	\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{s_2 \composeL c}{d}{\amod{0}} \;\land\\
	t = \unitL \implies (s_1 \composeL c \composeL d, s_2 \composeL c \composeL d) \in \amod{}'(\ca{}) \;\lor\; s_2 \composeL c \composeL d \hspace*{0.2cm} \text{is undefined}
\end{array} \nonumber
\end{align}
%(\ref{LAW:Ass})
as required.\\

\noindent\textbf{RTS. (\ref{LAW:Goal9})}\\
Pick an arbitrary $\ca{}, l_1, l_2, f, c, d$ such that:
%
\begin{align}
	& (l_1 \composeL f, l_2 \composeL f) \in \amod{L} \cup \amod{0}(\ca{}) \label{LAW:Ass16}\\
	& l_1 \composeL f \composeL c = s \composeL s_0 \composeL d \label{LAW:Ass17}\\
	& \for{l'} l' \leq l_1 \;\land\; l' \leq l_2 \implies l' = \unitL
\end{align}
%
If $\ca{} \in \dom{\amod{0}}$ then the desired result holds trivially. On the other hand if $\ca{} \in \dom{\amod{L}}$, then from (\ref{LAW:AssFence}) and ((\ref{LAW:sfence}) we know $l_1 \leq s \;\land\; l_1 \maxMeetL s_0 = \unitL$, that is 
%
\begin{align}
	& l_1 \maxMeetL s_0 = \unitL \;\land\; \exsts{e} l_1 \composeL e = s \label{LAW:contained}
\end{align}
%
and thus
%
\begin{align}
	l_1 \composeL f \composeL c = s_0 \composeL l_1 \composeL e \composeL d \nonumber
\end{align}
%
and consequently by cancellativity of separation algebras:
%
\begin{align}
	f \composeL c = s_0 \composeL e \composeL d \label{LAW:Part1}
\end{align}
%
From (\ref{LAW:Part1}) and (\ref{LAW:contained}) we have:
%
\begin{align}
	l_1 \maxMeetL s_0 = \unitL \;\land\;  l_2 \composeL f \composeL c = l_2 \composeL s_0 \composeL e \composeL d \;\lor\; l_2 \composeL f \composeL c \text{ is undefined} \nonumber
\end{align}
%
Pick $r' = l_2 \composeL e$
%
\begin{align}
	l_2 \composeL f \composeL c \text{ is undefined} \;\lor\; l_1 \maxMeetL s_0 = \unitL \;\land\; \exsts{r'} l_2 \composeL f \composeL c = s_0 \composeL r' \composeL d \label{LAW:Part2}
\end{align}
%
Now assume $l_2 \composeL f \composeL c$ is defined, then from (\ref{LAW:contained}), (\ref{LAW:dd}) and by definition of $\strictfences$ we have:
%
\begin{align}
	l_2 \composeL e \in F \label{LAW:fenced}
\end{align}
%
and consequently by the (\ref{LAW:I.H})
%
\begin{align}
	\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{s_0}{r'}{\amod{0}}
\end{align}
%(\ref{LAW:Ass})
as required.
\renewcommand{\qed}{}
\end{proof}

%
\noindent\textbf{RTS. (\ref{LAW:Goal5})}\\
\begin{proof}
By induction on the number of steps $m$. Pick an arbitrary $l, r, s_0, \amod{1} \subseteq \amod{L}$ such that:
%
\begin{align}
	&l \composeL r \in F \label{LAW2:Ass1}\\
	& s_0 \in F_0 \label{LAW2:Ass2}\\
	& l \composeL r \composeL s_0 \text{ is defined} \label{LAW2:Ass3} \\
	& \extendsAM{\amod{}, \amod{L}}{l}{r}{\amod{1}} \label{LAW2:Ass4}
\end{align}

\noindent\textbf{Base Case}\\
\textbf{RTS. } $\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{0}{s}{s_0}{\amod{L}}$\\
This holds trivially by definition of $-\downarrow_{0}$.\\

\noindent\textbf{Inductive Case}\\

\noindent\textbf{Assume}
\begin{align}
	\for{l \composeL r \in F}\for{s_0 \in F_0} l \composeL r \composeL s_0  \text{ is defined}  \;\land\; \extendsAM{\amod{}, \amod{L}}{l}{r}{\amod{1}} \nonumber \\
	\implies \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{l}{r \composeL s_0}{\amod{1}}
	\tag{I.H} \label{LAW2:I.H}
\end{align}
\textbf{Show } 
%
\begin{align}
	\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{m}{l}{r \composeL s_0}{\amod{1}} \nonumber
\end{align}
%
That is:
%
\begin{align}
	&\begin{array}{l}
		\for{\ca{}, c, d, t, s_3, s_4}\for{(s_1 \composeL e, s_2 \composeL e) \in \amod{1}(\ca{})} \\
	\hspace*{0.2cm}\left(\for{l'} l' \leq s_1 \land l' \leq s_2 \implies l' = \unitL\right) \;\land\; s_1 \composeL e \leq  l \composeL r \composeL s_0 \composeL t\;\land\\
	\hspace*{0.2cm} s_1 = s_3 \composeL s_4 \;\land\; s_1 \maxMeetL l = s_3 \;\land\; l = s_3 \composeL c \;\land\; r \composeL s_0 = s_4 \composeL d \implies\\
	\hspace*{0.4cm} \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{s_2 \composeL c}{d}{\amod{1}} \;\land\\
	\hspace*{0.4cm} t = \unitL \implies (s_1 \composeL c \composeL d, s_2 \composeL c \composeL d) \in \amod{}'(\ca{}) 
	\;\lor\; s_2 \composeL c \composeL d \text{ is undefined}
	\end{array} \label{LAW:Goal10} \\\nonumber\\
	&\begin{array}{l}
		\for{\ca{}} \for{(l_1 \composeL f, l_2 \composeL f) \in \amod{L} \cup \amod{0}(\ca{})} \for{c, d} \\
		\hspace*{0.2cm} l_1 \composeL f \composeL c = l \composeL r \composeL s_0 \composeL d \;\land\; \left(\for{l'} l' \leq l_0 \land l' \leq l'_0 \implies l' = \unitL\right)  \;\implies\\
  \hspace*{0.4cm}\exsts{f', c'} (l_1 \composeL f', l_2 \composeL f') \in \amod{1}(\ca{}) \;\land\; l_1 \composeL f' \composeL c' =  l \composeL r \composeL s_0 \composeL d\\
		\hspace*{0.4cm}\lor\;l_2 \composeL f \composeL c \text{ is undefined}\\
		\hspace*{0.4cm}\lor\; l_1 \maxMeetL l = \unitL \;\land\; \exsts{r'} l_2 \composeL f \composeL c = l \composeL r' \composeL d \;\land\\
		\hspace*{0.6cm} \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{l}{r'}{\amod{1}}
	\end{array} \label{LAW:Goal11}
\end{align}
%

\noindent\textbf{RTS. (\ref{LAW:Goal10})} \\
Pick an arbitrary $\ca{}, c, d, t, s_3, s_4, s_1, s_2, e$ such that:
%
\begin{align}
	& (s_1 \composeL e, s_2 \composeL e) \in \amod{1}(\ca{}) \label{LAW2:Ass5} \\
	& \left(\for{l'} l' \leq s_1 \land l' \leq s_2 \implies l' = \unitL\right) \label{LAW:Ass6}\\
	& s_1 \composeL e \leq  s_0 \composeL l \composeL r \composeL t\label{LAW2:Ass7}\\
	& s_1 = s_3 \composeL s_4 \label{LAW2:Ass8}\\
	& s_1 \maxMeetL l = s_3 \label{LAW2:Ass9}\\
	& l = s_3 \composeL c \label{LAW2:Ass10}\\
	& r \composeL s_0 = s_4 \composeL d \label{LAW2:Ass11}
\end{align}
%(\ref{LAW:Ass})
From (\ref{LAW:dd}) we know that $s_1 \leq l \composeL r$ and consequently from (\ref{LAW:Ass8})-(\ref{LAW:Ass11}) and definition of $\maxMeetL$ we have:
%
\begin{align}
\begin{array}{l l}
	\exsts{g} & d = s_0 \composeL g \\
	& r = s_4 \composeL g
\end{array} \label{LAW2:Ass12}
\end{align}
%(\ref{LAW:Ass})
From (\ref{LAW2:Ass5})-(\ref{LAW2:Ass12}) and (\ref{LAW2:Ass4}) we have:
%
\begin{align}
	&\extendsAM{\amod{}, \amod{L}}{s_2 \composeL c}{g}{\amod{1}} \;\land \nonumber\\
	&t = \unitL \implies (s_1 \composeL c \composeL g, s_2 \composeL c \composeL g) \in \amod{}(\ca{}) \;\lor\; (s_2 \composeL c \composeL g) \text{ is undefined} \label{LAW2:Assmid}
\end{align}
%(\ref{LAW:Ass})
From the definition of $\strictfences$, (\ref{LAW:dd}), (\ref{LAW:Ass5}) and (\ref{LAW:Ass1}) we have:
%
\begin{align}
	s_2 \composeL c \composeL g \in F \label{LAW2:Assfencedpost}
\end{align}
%(\ref{LAW:Ass})
Assume $t = \unitL$, then from (\ref{LAW:Ass1}), (\ref{LAW:dd}), (\ref{LAW2:Ass5})-(\ref{LAW2:Ass7}), (\ref{LAW2:Ass10}) and (\ref{LAW2:Ass12}) we have:
%
\begin{align}
	(s_1 \composeL c \composeL d, s_2 \composeL c \composeL d) \in \amod{}'(\ca{}) \;\lor\; s_2 \composeL c \composeL d \hspace*{0.2cm} \text{is undefined} \label{LAW2:Ass13}
\end{align}
%
%(\ref{LAW:Ass})
%
From (\ref{LAW:dd}), (\ref{LAW2:Ass12}), (\ref{LAW2:Assmid}), (\ref{LAW2:Assfencedpost}), (\ref{LAW2:Ass13}) and (\ref{LAW2:I.H}) we have:
%
%
\begin{align}
\begin{array}{l}
	\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{s_2 \composeL c}{d}{\amod{L}} \;\land \\
	t = \unitL \implies (s_1 \composeL c \composeL d, s_2 \composeL c \composeL d) \in \amod{}'(\ca{}) \;\lor\; s_2 \composeL c \composeL d \hspace*{0.2cm} \text{is undefined}
\end{array} \nonumber
\end{align}
%
as required.\\

\noindent\textbf{RTS. (\ref{LAW:Goal11})}\\
Pick an arbitrary $\ca{}, l_1, l_2, f, c, d$ such that:
%
\begin{align}
	& (l_1 \composeL f, l_2 \composeL f) \in \amod{L} \cup \amod{0}(\ca{}) \label{LAW2:Ass16}\\
	& l_1 \composeL f \composeL c = l \composeL r \composeL s_0 \composeL d \label{LAW2:Ass17}\\
	& \for{l'} l' \leq l_1 \;\land\; l' \leq l_2 \implies l' = \unitL \label{LAW2:Ass18}
\end{align}
%
There are two cases to consider:\\

\noindent\textbf{Case 1. }$\ca{} \in \dom{\amod{0}}$\\
From (\ref{LAW:AssFence}) and (\ref{LAW:sfence}) we know $l_1 \leq s_0 \;\land\; l_1 \maxMeetL l \composeL r = \unitL$, that is 
%
\begin{align}
	& l_1 \maxMeetL l = \unitL \;\land\; \exsts{e} l_1 \composeL e = s_0 \label{LAW2:contained}
\end{align}
%
and thus
%
\begin{align}
	l_1 \maxMeetL l = \unitL \;\land\;  l_1 \composeL f \composeL c = l \composeL  r \composeL l_1 \composeL e \composeL d \nonumber
\end{align}
%
and consequently by cancellativity of separation algebras:
%
\begin{align}
	f \composeL c = l \composeL r \composeL e \composeL d \label{LAW2:Part1}
\end{align}
%
From (\ref{LAW2:Part1}) and (\ref{LAW2:contained}) we have:
%
\begin{align}
	l_1 \maxMeetL l = \unitL \;\land\;  l_2 \composeL f \composeL c = l_2 \composeL l \composeL r \composeL e \composeL d \;\lor\; l_2 \composeL f \composeL c \text{ is undefined} \label{LAW2:Part2}
\end{align}
%
Now assume $l_2 \composeL f \composeL c$ is defined, then from (\ref{LAW2:contained}), (\ref{LAW:AssFence}), definition of $\strictfences$ and since $(l_1 \composeL f, l_2 \composeL f) \in \amod{0}(\ca{})$ we have:
%
\begin{align}
	l_2 \composeL e \in F_0 \label{LAW2:fenced}
\end{align}
%
and consequently from (\ref{LAW2:Ass1}), (\ref{LAW2:Ass4}) and (\ref{LAW2:I.H})
%
\begin{align}
	\extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{l}{r \composeL l_2 \composeL e}{\amod{1}}
\end{align}
%(\ref{LAW2:Ass})
Pick $r' = l_2 \composeL e \composeL r$. Then above, (\ref{LAW2:Part2})we have:
%
\begin{align}
\begin{array}{l l}
	l_2 \composeL f \composeL c \text{ is undefined} \;\lor & l_1 \maxMeetL l = \unitL \;\land\; \exsts{r'} l_2 \composeL f \composeL c = l \composeL r' \composeL d\\
	& \hspace*{0.1cm}\land\; \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{l}{r'}{\amod{1}}
\end{array} \nonumber
\end{align}
%
as required.\\

\noindent\textbf{Case 2. }$\ca{} \in \dom{\amod{L}}$\\
From (\ref{LAW2:Ass16})-(\ref{LAW2:Ass18}), assumption of case 2 and (\ref{LAW2:Ass4}) we have:
%
\begin{align}
	\begin{array}{l}
  	\exsts{f', c'} (l_1 \composeL f', l_2 \composeL f') \in \amod{1}(\ca{}) \;\land\; l_1 \composeL f' \composeL c' =  l \composeL r \composeL s_0 \composeL d\\
		\lor\;l_2 \composeL f \composeL c \text{ is undefined}\\
		\lor\; l_1 \maxMeetL l = \unitL \;\land\; \exsts{r'} l_2 \composeL f \composeL c = l \composeL r' \composeL s_0 \composeL d \;\land\; \extendsAMUpto{\amod{}, \amod{L}}{(m-1)}{l}{r'}{\amod{1}}
	\end{array} \label{LAW2:Ass19}
\end{align}
%
From (\ref{LAW:dd}) we know $l_1 \leq l \composeL r$, in the case of the third disjunct above where $l_1 \maxMeetL l = \unitL$, we thus know $l_1 \leq r$, that is:
%(\ref{LAW2:Ass})
\begin{align}
	\exsts{g} l_1 \composeL g = r \label{LAW2:Ass20}
\end{align}
%(\ref{LAW2:Ass})
From (\ref{LAW:dd}), definition of $\strictfences$ and assumption of case 2 we have:
%
\begin{align}
	l \composeL l_2 \composeL g \in F \label{LAW2:Ass21}
\end{align}
%
On the other hand from (\ref{LAW2:Ass17}) and (\ref{LAW2:Ass20}) we know $l_1 \composeL f \composeL c = l \composeL l_1 \composeL g \composeL s_0 \composeL d$, and consequently by the cancellativity of separation algebras we know $f \composeL c = l \composeL g \composeL s_0 \composeL d$, thus we can rewrite (\ref{LAW2:Ass19}) as:
%
\begin{align}
	\begin{array}{l}
  	\exsts{f', c'} (l_1 \composeL f', l_2 \composeL f') \in \amod{1}(\ca{}) \;\land\; l_1 \composeL f' \composeL c' =  l \composeL r \composeL s_0 \composeL d\\
		\lor\;l_2 \composeL f \composeL c \text{ is undefined}\\
		\lor\; l_1 \maxMeetL l = \unitL \;\land\; l_2 \composeL f \composeL c = l \composeL l_2 \composeL g \composeL s_0 \composeL d \;\land\; \extendsAMUpto{\amod{}, \amod{L}}{(m-1)}{l}{l_2 \composeL g}{\amod{1}}
	\end{array} \label{LAW2:Ass22}
\end{align}
%(\ref{LAW2:Ass})
From (\ref{LAW2:Ass2}), (\ref{LAW2:Ass4}), (\ref{LAW2:Ass21}), (\ref{LAW2:I.H}) we can rewrite (\ref{LAW2:Ass22}) into
%
\begin{align}
	\begin{array}{l}
  	\exsts{f', c'} (l_1 \composeL f', l_2 \composeL f') \in \amod{1}(\ca{}) \;\land\; l_1 \composeL f' \composeL c' =  l \composeL r \composeL s_0 \composeL d\\
		\lor\;l_2 \composeL f \composeL c \text{ is undefined}\\
		\lor\; l_1 \maxMeetL l = \unitL \;\land\; l_2 \composeL f \composeL c = l \composeL l_2 \composeL g \composeL s_0 \composeL d \;\land\; \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{l}{l_2 \composeL g \composeL s_0}{\amod{1}}
	\end{array} \label{LAW2:Ass22}
\end{align}
%(\ref{LAW2:Ass})
and consequently 
%
\begin{align}
	\begin{array}{l}
  	\exsts{f', c'} (l_1 \composeL f', l_2 \composeL f') \in \amod{1}(\ca{}) \;\land\; l_1 \composeL f' \composeL c' =  l \composeL r \composeL s_0 \composeL d\\
		\lor\;l_2 \composeL f \composeL c \text{ is undefined}\\
		\lor\; l_1 \maxMeetL l = \unitL \;\land\; \exsts{r'} l_2 \composeL f \composeL c = l \composeL r' \composeL d \;\land\; \extendsAMUpto{\amod{}', \amod{L} \cup \amod{0}}{(m-1)}{l}{r'}{\amod{1}}
	\end{array} \label{LAW2:Ass22}
\end{align}
%(\ref{LAW2:Ass})
as required.
\renewcommand{\qed}{}
\end{proof}



\end{proof}
\end{lemma}
